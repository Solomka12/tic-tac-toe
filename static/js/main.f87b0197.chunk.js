(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(45),l=n.n(i),s=n(4),o=n(13),u=n(7),b=function(e,t){return function(){var n=Object(a.useContext)(e);if(void 0===n)throw new Error("use".concat(t,"State must be used within a ").concat(t,"Provider"));return n}},j=n(1),d={isStarted:!1,boardSize:10,marksToWin:5,moveChangeVariant:1},f=Object(a.createContext)(),O=Object(a.createContext)(),v=function(e){var t=e.children,n=Object(a.useState)(d),r=Object(u.a)(n,2),c=r[0],i=r[1],l=function(e){return function(t){return i((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(s.a)({},e,t))}))}},b={setIsStarted:l("isStarted"),setBoardSize:l("boardSize"),setMarksToWin:l("marksToWin"),setMoveChangeVariant:l("moveChangeVariant")};return Object(j.jsx)(f.Provider,{value:c,children:Object(j.jsx)(O.Provider,{value:b,children:t})})},h=b(f,"App"),m=b(O,"App"),g=n(16),x=n(35),p=n(28),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Array(Math.ceil(e.length/t)).fill(null).map((function(n,r){return e.slice(t*r,t*r+t)}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,t=arguments.length>1?arguments[1]:void 0,n=t.x,r=void 0===n?.5:n,a=t.y,c=void 0===a?.5:a,i={angle:e,ticks:400,origin:{x:r,y:c}};Object(p.a)(Object(o.a)(Object(o.a)({},i),{},{particleCount:40,spread:26,startVelocity:55})),Object(p.a)(Object(o.a)(Object(o.a)({},i),{},{particleCount:30,spread:60,gravity:.8})),Object(p.a)(Object(o.a)(Object(o.a)({},i),{},{particleCount:50,spread:100,decay:.91,scalar:.8,gravity:1.1})),Object(p.a)(Object(o.a)(Object(o.a)({},i),{},{particleCount:15,spread:120,startVelocity:25,decay:.92,scalar:1.2,gravity:.9})),Object(p.a)(Object(o.a)(Object(o.a)({},i),{},{particleCount:15,spread:120,startVelocity:45}))},k="x",S="o",C=20,N=3,E=n(33),P=n.n(E),I=n.p+"static/media/o_icon.1a6f55bb.svg",T=n.p+"static/media/x_icon.970deedc.svg";function M(e){var t=e.cells,n=e.handleCellSet,r=e.boardSize,c=e.winnerRow,i=e.reset,l=Object(a.useState)(null),s=Object(u.a)(l,2),o=s[0],b=s[1];Object(a.useEffect)((function(){null!==o&&d(15)}),[o]);var d=Object(a.useCallback)(Object(x.throttle)((function(e){navigator.vibrate(0),navigator.vibrate(e)}),100),[]),f=function(e){var t=e.touches[0],n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);b((null===a||void 0===a?void 0:a.classList.contains("cell"))?+a.dataset.key:null)},O=function(e){var t=Math.floor(e/r)===Math.floor(o/r),n=e%r===o%r;return{hovered:e===o,highlighted:Number.isInteger(o)&&(t||n),victorious:null===c||void 0===c?void 0:c.includes(e)}},v=function(e){var t={height:"".concat(100/r,"%"),width:"".concat(100/r,"%")};if(c){var n=c.findIndex((function(t){return t===e}));n>=0&&(t.animationDelay="".concat(n*(1/r),"s"))}return t},h=function(e,t){return e*r+t};return Object(j.jsxs)("div",{className:P()("board-wrapper",{ended:Boolean(c)}),children:[Object(j.jsx)("div",{className:"reset-block",onClick:i,children:Object(j.jsx)("span",{className:"win-caption",children:"Click to play"})}),Object(j.jsx)("table",{className:"board",onClick:function(e){var t=e.target,r=t.classList,a=t.dataset;r.contains("cell")&&"empty"===a.value&&(n(a.key),d(25))},onTouchStart:f,onTouchMove:f,onTouchEnd:function(e){var r=e.changedTouches[0],a=r.clientX,c=r.clientY,i=document.elementFromPoint(a,c),l=null===i||void 0===i?void 0:i.dataset.key,s=t[l];l&&null===s&&(n(l),d(25)),b(null)},children:Object(j.jsx)("tbody",{children:y(t,r).map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,n){return Object(j.jsx)("td",{style:v(h(t,n)),"data-key":h(t,n),"data-value":e||"empty",className:P()("cell",O(h(t,n))),children:e?Object(j.jsx)("img",{src:e===k?T:I,alt:e}):null},n)}))},t)}))})})]})}function z(e){var t,n=e.score,r=e.currentPlayer,a=e.winnerSign;return Object(j.jsxs)("div",{className:P()("status-panel","".concat(r,"-move")),children:[Object(j.jsxs)("span",{className:"panel-x-block",children:[n.x,Object(j.jsx)("img",{src:T,alt:"x"})]}),Object(j.jsx)("span",{className:"info-content",children:"draw"===a?"Draw!":Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:(t=a||r,t===k?T:I),alt:a||r}),a?"'s win!":"'s move"]})}),Object(j.jsxs)("span",{className:"panel-o-block",children:[Object(j.jsx)("img",{src:I,alt:"o"}),n.o]})]})}var W=(r={},Object(s.a)(r,k,0),Object(s.a)(r,S,0),r);function V(){var e=h(),t=e.boardSize,n=e.marksToWin,r=e.moveChangeVariant,c=Object(a.useState)([]),i=Object(u.a)(c,2),l=i[0],b=i[1],d=Object(a.useState)(null),f=Object(u.a)(d,2),O=f[0],v=f[1],m=Object(a.useState)(null),p=Object(u.a)(m,2),y=p[0],C=p[1],N=Object(a.useState)(null),E=Object(u.a)(N,2),P=E[0],I=E[1],T=Object(a.useState)(2===r?S:k),V=Object(u.a)(T,2),B=V[0],F=V[1],L=Object(a.useState)(W),A=Object(u.a)(L,2),R=A[0],D=A[1];Object(a.useEffect)((function(){J()}),[]),Object(a.useEffect)((function(){var e=function(e,t,n){for(var r=function(e){return e+t*(n-1)<t*t},a=function(e){return e%t+n<=t},c=function(e){return e%t-(n-1)>=0},i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!a(e))return null;for(var c=[e],i=1,l=e+1;i<n&&r[l]===t;l++)c.push(l),i++;return c.length>=n?c:null},l=function(e,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!r(e))return null;for(var i=[e],l=1,s=e+t;l<n&&c[s]===a;s+=t)i.push(s),l++;return i.length>=n?i:null},s=function(e,c){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!a(e)||!r(e))return null;for(var l=[e],s=1,o=e+t+1;s<n&&i[o]===c;o+=t+1)l.push(o),s++;return l.length>=n?l:null},o=function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!r(e)||!c(e))return null;for(var l=[e],s=1,o=e+t-1;s<n&&i[o]===a;o+=t-1)l.push(o),s++;return l.length>=n?l:null},u=e.length,b=0;b<e.length;b++){var j=e[b];if(j){u--;var d=i(b,j,e);if(d)return d;var f=l(b,j,e);if(f)return f;var O=s(b,j,e);if(O)return O;var v=o(b,j,e);if(v)return v}}if(e.length&&u<=0)return[]}(l,t,n);e&&v(e)}),[l,t,n]),Object(a.useEffect)((function(){if(O){if(O.length){var e=l[O[0]];C(e),D((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},e,t[e]+1))})),w(120,{y:.8,x:1}),w(60,{y:.8,x:0})}else C("draw");Y()}}),[O]);var J=function(){I(B),b(new Array(t*t).fill(null)),v(null),C(null)},X=function(){I((function(e){return e===k?S:k}))},Y=function(){switch(r){case 1:F(B===k?S:k);break;case 2:F(S);break;case 0:default:F(k)}};return Object(j.jsxs)("div",{className:"game",children:[Object(j.jsx)(z,{score:R,currentPlayer:P,winnerSign:y}),Object(j.jsx)(M,{cells:l,boardSize:t,winnerRow:O,handleCellSet:function(e){b((function(t){return Object(g.a)(Object(x.set)(t,e,P))})),X()},reset:J})]})}var B=n(96),F=n(95),L=n(99),A=n(98);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var J=a.createElement("g",null,a.createElement("line",{x1:10,y1:10,x2:40,y2:40,strokeWidth:10,stroke:"#f53131",strokeLinecap:"round"}),a.createElement("line",{x1:10,y1:40,x2:40,y2:10,strokeWidth:10,stroke:"#f53131",strokeLinecap:"round"}));function X(e,t){var n=e.title,r=e.titleId,c=D(e,["title","titleId"]);return a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,J)}var Y=a.forwardRef(X);n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=a.createElement("circle",{r:16,cx:25,cy:25,fill:"none",strokeWidth:10,stroke:"#4285f4"});function H(e,t){var n=e.title,r=e.titleId,c=q(e,["title","titleId"]);return a.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,G)}var K=a.forwardRef(H);n.p;function Q(){var e=h(),t=e.boardSize,n=e.marksToWin,r=e.moveChangeVariant,a=m(),c=a.setBoardSize,i=a.setMarksToWin,l=a.setIsStarted,s=a.setMoveChangeVariant;return Object(j.jsxs)("div",{className:"menu",children:[Object(j.jsxs)("div",{className:"game-configs",children:[Object(j.jsxs)("div",{className:"config-item",children:[Object(j.jsxs)("span",{className:"config-item-label",children:["Board size: ",t]}),Object(j.jsx)("br",{}),Object(j.jsx)(B.a,{value:t,max:C,min:N,onChange:function(e,t){c(t),i(Math.min(t,n))},className:"config-item-control"})]}),Object(j.jsxs)("div",{className:"config-item",children:[Object(j.jsxs)("span",{className:"config-item-label",children:["Marks to win: ",n]}),Object(j.jsx)("br",{}),Object(j.jsx)(B.a,{value:n,max:t,min:N,onChange:function(e,t){return i(t)},className:"config-item-control"})]}),Object(j.jsxs)(F.a,{value:r,onChange:function(e,t){return s(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary",className:"config-item",children:[Object(j.jsx)(L.a,{className:"menu-tab",icon:Object(j.jsx)("span",{className:"tab-icon",children:Object(j.jsx)(Y,{})}),label:"first"}),Object(j.jsx)(L.a,{className:"menu-tab",icon:Object(j.jsxs)("span",{className:"tab-icon",children:[Object(j.jsx)(Y,{}),Object(j.jsx)(K,{})]}),label:"switch"}),Object(j.jsx)(L.a,{className:"menu-tab",icon:Object(j.jsx)("span",{className:"tab-icon",children:Object(j.jsx)(K,{})}),label:"first"})]})]}),Object(j.jsx)("div",{className:"menu-items",children:Object(j.jsx)(A.a,{onClick:function(){return l(!0)},className:"menu-btn",size:"large",variant:"outlined",children:"Play"})})]})}n(72);var U=function(){return h().isStarted?Object(j.jsx)(V,{}):Object(j.jsx)(Q,{})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(73);l.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(v,{children:Object(j.jsx)(U,{})})}),document.getElementById("root")),Z()}},[[74,1,2]]]);
//# sourceMappingURL=main.f87b0197.chunk.js.map