(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{16:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var c,r=n(1),a=n.n(r),l=n(10),i=n.n(l),u=(n(16),n(11)),o=n(9),s=n(2),f=n(3),j=n(7),b=n(5),d=n.n(b),v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Array(Math.ceil(t.length/e)).fill(null).map((function(n,c){return t.slice(e*c,e*c+e)}))},h="x",O="o",g=n.p+"static/media/o_icon.962fd27a.svg",m=n.p+"static/media/x_icon.3c382ae5.svg",p=n(0);function x(t){var e=t.cells,n=t.handleCellSet,c=t.boardSize,a=t.winnerRow,l=t.reset,i=Object(r.useState)(null),u=Object(s.a)(i,2),o=u[0],f=u[1];Object(r.useEffect)((function(){null!==o&&b(15)}),[o]);var b=Object(r.useCallback)(Object(j.throttle)((function(t){navigator.vibrate(0),navigator.vibrate(t)}),100),[]),O=function(t){var e=t.touches[0],n=e.clientX,c=e.clientY,r=document.elementFromPoint(n,c);f((null===r||void 0===r?void 0:r.classList.contains("cell"))?+r.dataset.key:null)},x=function(t){var e=Math.floor(t/c)===Math.floor(o/c),n=t%c===o%c;return{hovered:t===o,highlighted:Number.isInteger(o)&&(e||n),victorious:null===a||void 0===a?void 0:a.includes(t)}},y=function(t){var e={height:"".concat(100/c,"%"),width:"".concat(100/c,"%")};if(a){var n=a.findIndex((function(e){return e===t}));n>=0&&(e.animationDelay="".concat(n*(1/c),"s"))}return e},S=function(t,e){return t*c+e};return Object(p.jsxs)("div",{className:d()("board-wrapper",{ended:Boolean(a)}),children:[Object(p.jsx)("div",{className:"reset-block",onClick:l,children:Object(p.jsx)("span",{className:"win-caption",children:"Click to play"})}),Object(p.jsx)("table",{className:"board",onClick:function(t){var e=t.target,c=e.classList,r=e.dataset;c.contains("cell")&&"empty"===r.value&&(n(r.key),b(25))},onTouchStart:O,onTouchMove:O,onTouchEnd:function(t){var c=t.changedTouches[0],r=c.clientX,a=c.clientY,l=document.elementFromPoint(r,a),i=null===l||void 0===l?void 0:l.dataset.key,u=e[i];i&&null===u&&(n(i),b(25)),f(null)},children:Object(p.jsx)("tbody",{children:v(e,c).map((function(t,e){return Object(p.jsx)("tr",{children:t.map((function(t,n){return Object(p.jsx)("td",{style:y(S(e,n)),"data-key":S(e,n),"data-value":t||"empty",className:d()("cell",x(S(e,n))),children:t?Object(p.jsx)("img",{src:t===h?m:g,alt:t}):null},n)}))},e)}))})})]})}function y(t){var e,n=t.score,c=t.currentPlayer,r=t.winnerSign;return Object(p.jsxs)("div",{className:d()("status-panel","".concat(c,"-move")),children:[Object(p.jsxs)("span",{className:"panel-x-block",children:[n.x,Object(p.jsx)("img",{src:m,alt:"x"})]}),Object(p.jsxs)("span",{className:"info-content",children:[Object(p.jsx)("img",{src:(e=r||c,e===h?m:g),alt:r||c}),r?"'s win!":"'s move"]}),Object(p.jsxs)("span",{className:"panel-o-block",children:[Object(p.jsx)("img",{src:g,alt:"o"}),n.o]})]})}var S=10,w=function(t){return t+40<100},k=function(t){return t%S+5<=S},N=function(t){return t%S-4>=0},C=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!k(t))return null;for(var c=[t],r=1,a=t+1;r<5&&n[a]===e;a++)c.push(a),r++;return c.length>=5?c:null},E=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!w(t))return null;for(var c=[t],r=1,a=t+S;r<5&&n[a]===e;a+=S)c.push(a),r++;return c.length>=5?c:null},F=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!k(t)||!w(t))return null;for(var c=[t],r=1,a=t+S+1;r<5&&n[a]===e;a+=11)c.push(a),r++;return c.length>=5?c:null},P=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!w(t)||!N(t))return null;for(var c=[t],r=1,a=t+S-1;r<5&&n[a]===e;a+=9)c.push(a),r++;return c.length>=5?c:null},T=(c={},Object(f.a)(c,h,0),Object(f.a)(c,O,0),c);function M(){var t=Object(r.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(null),l=Object(s.a)(a,2),i=l[0],b=l[1],d=Object(r.useState)(null),v=Object(s.a)(d,2),g=v[0],m=v[1],w=Object(r.useState)(null),k=Object(s.a)(w,2),N=k[0],M=k[1],I=Object(r.useState)(T),L=Object(s.a)(I,2),B=L[0],z=L[1];Object(r.useEffect)((function(){A()}),[]),Object(r.useEffect)((function(){var t=R();t&&b(t)}),[n]),Object(r.useEffect)((function(){if(i){var t=n[i[0]];m(t),z((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},t,e[t]+1))}))}}),[i]);var A=function(){D()},D=function(){M(h),c(new Array(100).fill(null)),b(null),m(null)},J=function(){M((function(t){return t===h?O:h}))},R=function(){for(var t=0;t<n.length;t++){var e=n[t];if(e){var c=C(t,e,n);if(c)return c;var r=E(t,e,n);if(r)return r;var a=F(t,e,n);if(a)return a;var l=P(t,e,n);if(l)return l}}};return Object(p.jsxs)("div",{className:"game",children:[Object(p.jsx)(y,{score:B,currentPlayer:N,winnerSign:g}),Object(p.jsx)(x,{cells:n,boardSize:S,winnerRow:i,handleCellSet:function(t){c((function(e){return Object(u.a)(Object(j.set)(e,t,N))})),J()},reset:D})]})}n(20);var I=function(){return Object(p.jsx)(M,{})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,l=e.getTTFB;n(t),c(t),r(t),a(t),l(t)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root")),L()}},[[21,1,2]]]);
//# sourceMappingURL=main.9b9e239c.chunk.js.map